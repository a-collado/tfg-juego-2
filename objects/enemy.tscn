[gd_scene load_steps=9 format=3 uid="uid://dx3yfr7vp3gbn"]

[ext_resource type="PackedScene" uid="uid://nklwmh4e4jwg" path="res://objects/player.tscn" id="1_djgfh"]
[ext_resource type="Script" path="res://scripts/enemy/enemy.gd" id="2_mtiaa"]
[ext_resource type="Script" path="res://addons/StateMachine/state_machine.gd" id="3_03ql3"]
[ext_resource type="Script" path="res://scripts/enemy/navigator.gd" id="3_m6isb"]
[ext_resource type="Script" path="res://scripts/enemy/states/defend.gd" id="4_4o8ek"]
[ext_resource type="Script" path="res://scripts/enemy/states/idle.gd" id="6_i74hs"]

[sub_resource type="CapsuleShape3D" id="CapsuleShape3D_5h0mp"]

[sub_resource type="ViewportTexture" id="ViewportTexture_brdgy"]
viewport_path = NodePath("hitManager/SubViewport")

[node name="Enemy" instance=ExtResource("1_djgfh")]
transform = Transform3D(6.98928, 0, 0, 0, 6.98928, 0, 0, 0, 6.98928, 0, 0, 0)
script = ExtResource("2_mtiaa")

[node name="root_hitArea#CollisionShape3D" type="CollisionShape3D" parent="." index="0"]
transform = Transform3D(0.999996, 0.000295923, 0.00282306, -0.000317631, 0.99997, 0.00769576, -0.0028207, -0.00769663, 0.999967, -0.123093, 0.954373, 0.625552)
shape = SubResource("CapsuleShape3D_5h0mp")

[node name="Skeleton3D" parent="root" index="0"]
bones/0/position = Vector3(0.0085595, 0.913696, 0.463713)
bones/0/rotation = Quaternion(0.0394942, 0.502208, 0.0590047, 0.861827)
bones/1/rotation = Quaternion(0.53652, -0.0238816, 0.823172, -0.18429)
bones/1/scale = Vector3(1, 1.05577, 1)
bones/2/rotation = Quaternion(-4.78854e-05, 5.70981e-05, 0.0025447, 0.999997)
bones/3/rotation = Quaternion(0.203504, 0.562427, -0.344869, 0.723414)
bones/3/scale = Vector3(0.996299, 0.977414, 0.977908)
bones/4/position = Vector3(0.00415338, 0.127324, -0.00803188)
bones/4/rotation = Quaternion(0.169203, 0.841638, 0.511431, -0.0381353)
bones/4/scale = Vector3(0.999757, 0.97904, 1.02078)
bones/5/rotation = Quaternion(0.932495, -0.317596, -0.165669, 0.0462597)
bones/6/rotation = Quaternion(-5.30396e-06, -3.01396e-06, 0.349862, -0.936801)
bones/7/rotation = Quaternion(0.317877, -0.721948, 0.344198, 0.509188)
bones/8/rotation = Quaternion(-0.0454423, 0.940132, 0.337768, -0.000406779)
bones/9/rotation = Quaternion(-0.0210212, -0.519311, -0.0802234, 0.850552)
bones/10/rotation = Quaternion(0.0050812, 0.478455, 0.0364354, 0.877341)
bones/12/rotation = Quaternion(-0.18071, -0.445541, 0.163859, 0.861387)
bones/13/rotation = Quaternion(-0.51854, 0.577129, -0.45319, -0.438928)
bones/14/rotation = Quaternion(0.287716, 0.907671, -0.130799, 0.276126)
bones/15/rotation = Quaternion(0.141677, 0.00826777, 0.0885651, 0.985908)
bones/16/rotation = Quaternion(0.00524383, 0.371481, -0.0285061, 0.927988)
bones/20/rotation = Quaternion(-0.713141, 0.123526, -0.0288603, 0.689448)
bones/21/rotation = Quaternion(-0.585269, -0.0210175, 0.0093887, 0.810512)
bones/22/rotation = Quaternion(-0.58753, -0.00390267, -0.00968983, 0.809135)
bones/27/rotation = Quaternion(-0.583641, 0.00201316, -0.053742, 0.810229)
bones/28/rotation = Quaternion(-0.599252, 0.00782529, -0.029578, 0.799976)
bones/29/rotation = Quaternion(0.440465, 0.610906, -0.518463, 0.404946)
bones/30/rotation = Quaternion(-0.82756, 0.426777, 0.023994, -0.363909)

[node name="AnimationTree" parent="animationManager" index="0"]
parameters/current_position = 0.280042
parameters/fight_punch/current_position = 0.280042

[node name="hitManager" parent="." index="4"]
charge_time = 1.5

[node name="Sprite3D" parent="hitManager" index="1"]
visible = false
texture = SubResource("ViewportTexture_brdgy")

[node name="navigator" type="Node3D" parent="." index="5"]
script = ExtResource("3_m6isb")

[node name="stateMachine" type="Node" parent="." index="6" node_paths=PackedStringArray("initial_state")]
script = ExtResource("3_03ql3")
initial_state = NodePath("Idle")

[node name="Defend" type="Node" parent="stateMachine" index="0"]
script = ExtResource("4_4o8ek")

[node name="Idle" type="Node" parent="stateMachine" index="1"]
script = ExtResource("6_i74hs")

[node name="navigationAgent" type="NavigationAgent3D" parent="." index="7"]
path_desired_distance = 2.0
