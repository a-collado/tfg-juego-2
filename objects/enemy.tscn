[gd_scene load_steps=9 format=3 uid="uid://dx3yfr7vp3gbn"]

[ext_resource type="PackedScene" uid="uid://nklwmh4e4jwg" path="res://objects/player.tscn" id="1_djgfh"]
[ext_resource type="Script" path="res://scripts/enemy/enemy.gd" id="2_mtiaa"]
[ext_resource type="Script" path="res://addons/StateMachine/state_machine.gd" id="3_03ql3"]
[ext_resource type="Script" path="res://scripts/enemy/navigator.gd" id="3_m6isb"]
[ext_resource type="Script" path="res://scripts/enemy/states/defend.gd" id="4_4o8ek"]
[ext_resource type="Script" path="res://scripts/enemy/states/idle.gd" id="6_i74hs"]

[sub_resource type="CapsuleShape3D" id="CapsuleShape3D_5h0mp"]

[sub_resource type="ViewportTexture" id="ViewportTexture_brdgy"]
viewport_path = NodePath("hitManager/SubViewport")

[node name="Enemy" instance=ExtResource("1_djgfh")]
transform = Transform3D(6.98928, 0, 0, 0, 6.98928, 0, 0, 0, 6.98928, 0, 0, 0)
script = ExtResource("2_mtiaa")

[node name="root_hitArea#CollisionShape3D" type="CollisionShape3D" parent="." index="0"]
transform = Transform3D(0.999996, 0.000295923, 0.00282306, -0.000317631, 0.99997, 0.00769576, -0.0028207, -0.00769663, 0.999967, -0.123093, 0.954373, 0.625552)
shape = SubResource("CapsuleShape3D_5h0mp")

[node name="Skeleton3D" parent="root" index="0"]
bones/0/position = Vector3(0.00473703, 0.859098, 0.350708)
bones/0/rotation = Quaternion(-0.0209047, 0.445991, 0.0273675, 0.894375)
bones/1/rotation = Quaternion(0.571608, 0.0375661, 0.814444, -0.0923798)
bones/1/scale = Vector3(1, 1.00872, 1)
bones/2/rotation = Quaternion(-6.95997e-06, 1.32076e-05, 0.292237, 0.956346)
bones/3/rotation = Quaternion(0.315301, 0.523602, -0.43546, 0.660909)
bones/3/scale = Vector3(0.999394, 0.995896, 0.996451)
bones/4/position = Vector3(0.000710038, 0.127645, -0.00126404)
bones/4/rotation = Quaternion(0.0606886, 0.888903, 0.453961, -0.00941929)
bones/4/scale = Vector3(0.999985, 0.996729, 1.00325)
bones/5/rotation = Quaternion(0.907317, -0.339628, -0.232497, 0.0858661)
bones/6/rotation = Quaternion(-5.42953e-06, -4.33377e-06, 0.388397, -0.921492)
bones/7/rotation = Quaternion(0.288219, -0.737131, 0.295395, 0.535079)
bones/8/rotation = Quaternion(-0.0448711, 0.946662, 0.319087, 0.00110461)
bones/9/rotation = Quaternion(0.0354795, -0.45775, -0.0412884, 0.887413)
bones/10/rotation = Quaternion(-0.0509345, 0.429394, 0.0508151, 0.900247)
bones/12/rotation = Quaternion(-0.142429, -0.410841, 0.126809, 0.89154)
bones/13/rotation = Quaternion(-0.519101, 0.562038, -0.4618, -0.448764)
bones/14/rotation = Quaternion(0.547865, 0.821134, 0.102115, 0.12311)
bones/15/rotation = Quaternion(0.26045, -0.0120365, 0.210108, 0.942272)
bones/16/rotation = Quaternion(0.0367274, 0.344611, 0.00347512, 0.93802)
bones/20/rotation = Quaternion(-0.713108, 0.123515, -0.0288195, 0.689485)
bones/21/rotation = Quaternion(-0.5854, -0.0209196, 0.00945572, 0.81042)
bones/22/rotation = Quaternion(-0.587504, -0.00386684, -0.00975745, 0.809153)
bones/27/rotation = Quaternion(-0.583578, 0.00198916, -0.0537396, 0.810275)
bones/28/rotation = Quaternion(-0.599267, 0.00781888, -0.0296071, 0.799963)
bones/29/rotation = Quaternion(0.448076, 0.610678, -0.515521, 0.400673)
bones/30/rotation = Quaternion(-0.828694, 0.425766, 0.0237899, -0.362523)

[node name="AnimationTree" parent="animationManager" index="0"]
parameters/current_position = 0.376725
parameters/current_delta = 0.0133333
parameters/fight_punch/current_position = 0.376725
parameters/fight_punch/current_delta = 0.0133333

[node name="hitManager" parent="." index="4"]
charge_time = 1.5

[node name="Sprite3D" parent="hitManager" index="1"]
visible = false
texture = SubResource("ViewportTexture_brdgy")

[node name="navigator" type="Node3D" parent="." index="5"]
script = ExtResource("3_m6isb")

[node name="stateMachine" type="Node" parent="." index="6" node_paths=PackedStringArray("initial_state")]
script = ExtResource("3_03ql3")
initial_state = NodePath("Idle")

[node name="Defend" type="Node" parent="stateMachine" index="0"]
script = ExtResource("4_4o8ek")

[node name="Idle" type="Node" parent="stateMachine" index="1"]
script = ExtResource("6_i74hs")

[node name="navigationAgent" type="NavigationAgent3D" parent="." index="7"]
path_desired_distance = 2.0
