[gd_scene load_steps=8 format=3 uid="uid://dx3yfr7vp3gbn"]

[ext_resource type="PackedScene" uid="uid://nklwmh4e4jwg" path="res://objects/player.tscn" id="1_djgfh"]
[ext_resource type="Script" path="res://scripts/enemy/enemy.gd" id="2_mtiaa"]
[ext_resource type="Script" path="res://addons/StateMachine/state_machine.gd" id="3_03ql3"]
[ext_resource type="Script" path="res://scripts/enemy/navigator.gd" id="3_m6isb"]
[ext_resource type="Script" path="res://scripts/enemy/states/defend.gd" id="4_4o8ek"]
[ext_resource type="Script" path="res://scripts/enemy/states/idle.gd" id="6_i74hs"]

[sub_resource type="ViewportTexture" id="ViewportTexture_brdgy"]
viewport_path = NodePath("hitManager/SubViewport")

[node name="Enemy" instance=ExtResource("1_djgfh")]
transform = Transform3D(6.98928, 0, 0, 0, 6.98928, 0, 0, 0, 6.98928, 0, 0, 0)
script = ExtResource("2_mtiaa")

[node name="Skeleton3D" parent="root" index="0"]
bones/0/position = Vector3(-0.0271924, 0.889351, 0.120576)
bones/0/rotation = Quaternion(-0.121889, 0.332164, -0.0498009, 0.933986)
bones/1/rotation = Quaternion(0.636607, 0.0906072, 0.764061, -0.0522715)
bones/1/scale = Vector3(1, 0.999982, 1)
bones/2/rotation = Quaternion(3.94691e-06, -8.46894e-07, 0.40939, 0.91236)
bones/3/rotation = Quaternion(0.437705, 0.460569, -0.443966, 0.631811)
bones/3/scale = Vector3(0.999954, 0.999997, 1.00003)
bones/4/position = Vector3(-1.50337e-06, 0.127669, 3.60267e-06)
bones/4/rotation = Quaternion(0.0449037, 0.94666, 0.319088, -0.000883459)
bones/4/scale = Vector3(0.999997, 1.00001, 0.999988)
bones/5/rotation = Quaternion(0.858843, -0.0729006, -0.506336, 0.026406)
bones/6/position = Vector3(-1.00152e-06, 0.389355, -2.17288e-06)
bones/6/rotation = Quaternion(-3.61694e-06, 3.07504e-07, 0.330511, -0.943802)
bones/7/rotation = Quaternion(0.309215, -0.701191, 0.401759, 0.501306)
bones/8/position = Vector3(-2.21777e-06, 0.127669, -7.15234e-07)
bones/8/rotation = Quaternion(-0.0452557, 0.941609, 0.333655, -0.000155716)
bones/9/rotation = Quaternion(0.130967, -0.334594, 0.0528791, 0.931718)
bones/10/rotation = Quaternion(-0.0548451, 0.00217824, -0.00171326, 0.998491)
bones/11/rotation = Quaternion(0.313699, 0.00638645, 0.00211013, 0.949499)
bones/12/rotation = Quaternion(-0.181776, -0.004381, -0.000179834, 0.98333)
bones/13/rotation = Quaternion(-0.534107, 0.543858, -0.438945, -0.475684)
bones/14/rotation = Quaternion(0.616006, 0.759338, 0.175057, 0.115309)
bones/15/rotation = Quaternion(0.519924, -0.00119649, 0.309733, 0.79608)
bones/16/rotation = Quaternion(0.0577026, 0.282958, -0.00703278, 0.957369)
bones/17/rotation = Quaternion(0.0464519, -0.786958, 0.317028, 0.527288)
bones/18/position = Vector3(-8.25216e-07, 0.0210912, 1.16751e-07)
bones/18/rotation = Quaternion(-0.0240861, -0.3065, 0.0623895, 0.949518)
bones/19/rotation = Quaternion(-0.0093904, 0.438563, 0.0087935, 0.898609)
bones/20/rotation = Quaternion(-0.713067, 0.1235, -0.0287681, 0.689533)
bones/21/rotation = Quaternion(-0.585566, -0.0207951, 0.00954074, 0.810302)
bones/22/rotation = Quaternion(-0.587471, -0.00382123, -0.0098437, 0.809176)
bones/23/rotation = Quaternion(-0.450202, 0.161362, -0.0363318, 0.877474)
bones/24/rotation = Quaternion(-0.645683, -0.00762942, -0.0194876, 0.763319)
bones/25/rotation = Quaternion(-0.639771, -0.0177443, -0.0200695, 0.768098)
bones/26/rotation = Quaternion(-0.425623, 0.144413, -0.0385311, 0.892471)
bones/27/rotation = Quaternion(-0.583496, 0.00195922, -0.0537371, 0.810334)
bones/28/rotation = Quaternion(-0.599287, 0.00781017, -0.0296434, 0.799947)
bones/29/rotation = Quaternion(0.467391, 0.609865, -0.507784, 0.389572)
bones/30/rotation = Quaternion(-0.674923, 0.532514, 0.0507135, -0.508267)
bones/31/rotation = Quaternion(0.745281, -0.173056, -0.253622, 0.591848)
bones/32/rotation = Quaternion(0.0449679, -0.57225, -0.0081596, 0.818805)
bones/33/rotation = Quaternion(0.0466935, 0.787048, -0.316947, 0.527181)
bones/34/rotation = Quaternion(-0.0241525, 0.306839, -0.0624016, 0.949406)
bones/35/rotation = Quaternion(-0.00929688, -0.438521, -0.00842098, 0.898633)
bones/36/rotation = Quaternion(-0.713033, -0.123518, 0.0293238, 0.689542)
bones/37/rotation = Quaternion(-0.585569, 0.02086, -0.00928149, 0.810301)
bones/38/rotation = Quaternion(-0.587469, 0.00385586, 0.0101612, 0.809174)
bones/39/rotation = Quaternion(-0.450109, -0.161218, 0.0368345, 0.877527)
bones/40/rotation = Quaternion(-0.645681, 0.00766694, 0.0197717, 0.763313)
bones/42/rotation = Quaternion(-0.425486, -0.144257, 0.0390133, 0.892541)
bones/43/rotation = Quaternion(-0.583492, -0.00191374, 0.0540332, 0.810317)
bones/44/rotation = Quaternion(-0.59927, -0.00776777, 0.0298951, 0.799951)

[node name="hitArea" parent="root" index="1"]
monitoring = false

[node name="CollisionShape3D" parent="root/hitArea" index="0"]
transform = Transform3D(0.999996, 0.000295923, 0.00282306, -0.000317631, 0.99997, 0.00769576, -0.0028207, -0.00769663, 0.999967, -0.123093, 0.954373, 0.625552)

[node name="AnimationTree" parent="animationManager" index="0"]
parameters/current_position = 0.0166667
parameters/current_delta = 0.0166667
parameters/fight_punch/current_position = 0.0166667
parameters/fight_punch/current_delta = 0.0166667

[node name="hitManager" parent="." index="4"]
charge_time = 1.5

[node name="Sprite3D" parent="hitManager" index="1"]
visible = false
texture = SubResource("ViewportTexture_brdgy")

[node name="navigator" type="Node3D" parent="." index="5"]
script = ExtResource("3_m6isb")

[node name="stateMachine" type="Node" parent="." index="6" node_paths=PackedStringArray("initial_state")]
script = ExtResource("3_03ql3")
initial_state = NodePath("Idle")

[node name="Defend" type="Node" parent="stateMachine" index="0"]
script = ExtResource("4_4o8ek")

[node name="Idle" type="Node" parent="stateMachine" index="1"]
script = ExtResource("6_i74hs")

[node name="navigationAgent" type="NavigationAgent3D" parent="." index="7"]
path_desired_distance = 2.0
