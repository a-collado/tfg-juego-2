[gd_scene load_steps=9 format=3 uid="uid://dx3yfr7vp3gbn"]

[ext_resource type="PackedScene" uid="uid://nklwmh4e4jwg" path="res://objects/player.tscn" id="1_djgfh"]
[ext_resource type="Script" path="res://scripts/enemy/enemy.gd" id="2_mtiaa"]
[ext_resource type="Script" path="res://addons/StateMachine/state_machine.gd" id="3_03ql3"]
[ext_resource type="Script" path="res://scripts/enemy/navigator.gd" id="3_m6isb"]
[ext_resource type="Script" path="res://scripts/enemy/states/defend.gd" id="4_4o8ek"]
[ext_resource type="Script" path="res://scripts/enemy/states/idle.gd" id="6_i74hs"]

[sub_resource type="CapsuleShape3D" id="CapsuleShape3D_5h0mp"]

[sub_resource type="ViewportTexture" id="ViewportTexture_brdgy"]
viewport_path = NodePath("hitManager/SubViewport")

[node name="Enemy" instance=ExtResource("1_djgfh")]
transform = Transform3D(6.98928, 0, 0, 0, 6.98928, 0, 0, 0, 6.98928, 0, 0, 0)
script = ExtResource("2_mtiaa")

[node name="root_hitArea#CollisionShape3D" type="CollisionShape3D" parent="." index="0"]
transform = Transform3D(0.999996, 0.000295923, 0.00282306, -0.000317631, 0.99997, 0.00769576, -0.0028207, -0.00769663, 0.999967, -0.123093, 0.954373, 0.625552)
shape = SubResource("CapsuleShape3D_5h0mp")

[node name="Skeleton3D" parent="root" index="0"]
bones/0/position = Vector3(0.00357951, 0.846768, 0.320346)
bones/0/rotation = Quaternion(-0.0369467, 0.430225, 0.0185688, 0.901774)
bones/1/rotation = Quaternion(0.579261, 0.0588891, 0.810789, -0.0600762)
bones/1/scale = Vector3(1, 1.00346, 1)
bones/2/rotation = Quaternion(1.23324e-06, 4.74363e-06, 0.381396, 0.924412)
bones/3/rotation = Quaternion(0.35355, 0.501846, -0.465273, 0.63771)
bones/3/scale = Vector3(0.999729, 0.998362, 0.998607)
bones/4/position = Vector3(0.000281585, 0.12766, -0.000501502)
bones/4/rotation = Quaternion(0.0509682, 0.898405, 0.436139, -0.00734405)
bones/4/scale = Vector3(0.999993, 0.998706, 1.00129)
bones/5/rotation = Quaternion(0.901448, -0.33972, -0.250489, 0.0961154)
bones/6/rotation = Quaternion(-5.42069e-06, -4.71973e-06, 0.389517, -0.921019)
bones/7/rotation = Quaternion(0.277149, -0.741792, 0.27957, 0.54293)
bones/8/rotation = Quaternion(-0.0448646, 0.946662, 0.319087, 0.00110051)
bones/9/rotation = Quaternion(0.0504884, -0.440492, -0.0304616, 0.895818)
bones/10/rotation = Quaternion(-0.0551256, 0.402486, 0.0464934, 0.912581)
bones/12/rotation = Quaternion(-0.144096, -0.385648, 0.11833, 0.90361)
bones/13/rotation = Quaternion(-0.520853, 0.558991, -0.460412, -0.451954)
bones/14/rotation = Quaternion(0.578986, 0.793913, 0.131079, 0.131517)
bones/15/rotation = Quaternion(0.305899, -0.0112657, 0.243178, 0.920415)
bones/16/rotation = Quaternion(0.0397018, 0.33621, 0.00214156, 0.940948)
bones/20/rotation = Quaternion(-0.713103, 0.123514, -0.0288136, 0.689491)
bones/21/rotation = Quaternion(-0.585419, -0.0209054, 0.00946542, 0.810407)
bones/22/rotation = Quaternion(-0.587501, -0.00386165, -0.00976724, 0.809156)
bones/27/rotation = Quaternion(-0.583568, 0.00198569, -0.0537393, 0.810282)
bones/28/rotation = Quaternion(-0.59927, 0.00781795, -0.0296114, 0.799961)
bones/29/rotation = Quaternion(0.450755, 0.610581, -0.514474, 0.399159)
bones/30/rotation = Quaternion(-0.828732, 0.425733, 0.0237832, -0.362476)

[node name="hitArea" parent="root/hitNodes" index="0"]
monitoring = true

[node name="AnimationTree" parent="animationManager" index="0"]
parameters/current_position = 0.390708
parameters/current_delta = 0.0133333
parameters/fight_punch/current_position = 0.390708
parameters/fight_punch/current_delta = 0.0133333

[node name="hitManager" parent="." index="4"]
charge_time = 1.5

[node name="Sprite3D" parent="hitManager" index="1"]
visible = false
texture = SubResource("ViewportTexture_brdgy")

[node name="navigator" type="Node3D" parent="." index="5"]
script = ExtResource("3_m6isb")

[node name="stateMachine" type="Node" parent="." index="6" node_paths=PackedStringArray("initial_state")]
script = ExtResource("3_03ql3")
initial_state = NodePath("Idle")

[node name="Defend" type="Node" parent="stateMachine" index="0"]
script = ExtResource("4_4o8ek")

[node name="Idle" type="Node" parent="stateMachine" index="1"]
script = ExtResource("6_i74hs")

[node name="navigationAgent" type="NavigationAgent3D" parent="." index="7"]
path_desired_distance = 2.0
