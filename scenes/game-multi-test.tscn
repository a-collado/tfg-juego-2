[gd_scene load_steps=18 format=3 uid="uid://ccdkchmi4fh5l"]

[ext_resource type="Script" path="res://scripts/multiplayer/Game.gd" id="1_0csgq"]
[ext_resource type="MeshLibrary" uid="uid://d1hulycx5v61j" path="res://assets/tiles.tres" id="1_tsdrk"]
[ext_resource type="Script" path="res://scripts/Team.gd" id="2_0qrcc"]
[ext_resource type="PackedScene" uid="uid://nklwmh4e4jwg" path="res://objects/player.tscn" id="3_308vm"]
[ext_resource type="PackedScene" uid="uid://dx3yfr7vp3gbn" path="res://objects/enemy.tscn" id="4_6awvt"]
[ext_resource type="PackedScene" uid="uid://dmr0fcamx7t56" path="res://addons/joystick/virtual_joystick.tscn" id="5_42s3w"]
[ext_resource type="Script" path="res://scripts/Ball.gd" id="6_isx7c"]

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_34eua"]
albedo_color = Color(0.207843, 0.623529, 0.109804, 1)

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_6e3lt"]
albedo_color = Color(0.945281, 0.129458, 0.176349, 1)

[sub_resource type="BoxShape3D" id="BoxShape3D_cif0x"]
size = Vector3(0.776048, 0.838601, 0.717716)

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_23vym"]
albedo_color = Color(0.0977035, 0.258915, 0.435264, 1)

[sub_resource type="BoxShape3D" id="BoxShape3D_uv6fw"]
size = Vector3(17.9935, 5.99512, 0.15625)

[sub_resource type="BoxShape3D" id="BoxShape3D_qj1ei"]
size = Vector3(54.157, 6.31775, 0.183105)

[sub_resource type="Gradient" id="Gradient_csi0f"]
offsets = PackedFloat32Array(0.996528, 1)

[sub_resource type="GradientTexture1D" id="GradientTexture1D_pdx65"]
gradient = SubResource("Gradient_csi0f")

[sub_resource type="PhysicsMaterial" id="PhysicsMaterial_yho6n"]
friction = 0.0
bounce = 1.0

[sub_resource type="SphereShape3D" id="SphereShape3D_fr8sp"]

[node name="Game" type="Node"]
script = ExtResource("1_0csgq")

[node name="Environment" type="Node" parent="."]

[node name="GridMap" type="GridMap" parent="Environment"]
mesh_library = ExtResource("1_tsdrk")
cell_size = Vector3(3, 2, 3)
cell_center_x = false
cell_center_y = false
cell_center_z = false
data = {
"cells": PackedInt32Array(3, 8, 1441792, 3, 7, 1441792, 3, 6, 1441792, 3, 5, 1441792, 3, 4, 1441792, 3, 9, 1441792, 2, 9, 1441792, 1, 9, 1441792, 0, 9, 1441792, 65535, 9, 1441792, 65534, 9, 1441792, 65533, 9, 1441792, 65532, 9, 1441792, 65532, 8, 1441792, 65532, 7, 1441792, 65532, 6, 1441792, 65532, 5, 1441792, 65532, 4, 1441792, 65532, 2, 1441792, 65532, 1, 1441792, 65532, 0, 1441792, 65532, 65535, 1441792, 65532, 65534, 1441792, 65532, 65533, 1441792, 65532, 65532, 1441792, 65532, 65531, 1441792, 65532, 65530, 1441792, 65532, 65529, 1441792, 65532, 65528, 1441792, 65532, 65527, 1441792, 65532, 65526, 1441792, 65533, 65526, 1441792, 65535, 65526, 1441792, 0, 65526, 1441792, 65534, 65526, 1441792, 1, 65526, 1441792, 2, 65526, 1441792, 3, 65526, 1441792, 3, 65527, 1441792, 3, 65528, 1441792, 3, 65529, 1441792, 3, 65530, 1441792, 3, 3, 1441792, 3, 1, 1441792, 3, 0, 1441792, 3, 65535, 1441792, 3, 2, 1441792, 3, 65534, 1441792, 3, 65533, 1441792, 3, 65532, 1441792, 3, 65531, 1441792, 4, 65532, 58, 4, 65531, 58, 4, 65530, 58, 4, 65529, 58, 4, 65533, 58, 4, 65534, 58, 4, 65535, 58, 4, 0, 58, 4, 1, 58, 4, 2, 58, 4, 3, 58, 4, 4, 58, 4, 5, 58, 4, 6, 58, 4, 7, 58, 4, 8, 58, 6, 9, 655418, 6, 8, 655418, 6, 7, 655418, 6, 6, 655418, 6, 5, 655418, 6, 4, 655418, 6, 3, 655418, 6, 2, 655418, 6, 1, 655418, 6, 0, 655418, 6, 65535, 655418, 6, 65534, 655418, 6, 65533, 655418, 6, 65532, 655418, 6, 65531, 655418, 6, 65530, 655418, 6, 65529, 655418, 6, 65528, 655418, 6, 65527, 655418, 6, 65526, 655418, 4, 9, 58, 4, 10, 58, 4, 65527, 58, 4, 65528, 58, 6, 65525, 655418, 4, 65524, 1441850, 3, 65524, 1441850, 2, 65524, 1441850, 1, 65524, 1441850, 0, 65524, 1441850, 65535, 65524, 1441850, 65534, 65524, 1441850, 65533, 65524, 1441850, 65532, 65524, 1441850, 65531, 65524, 1441850, 65531, 65525, 58, 65531, 65526, 58, 65531, 65527, 58, 65531, 65528, 58, 65531, 65529, 58, 65531, 65530, 58, 65531, 65531, 58, 65531, 65532, 58, 65531, 65533, 58, 65531, 65534, 58, 65531, 65535, 58, 65531, 0, 58, 65531, 1, 58, 65531, 2, 58, 65531, 3, 58, 65531, 4, 58, 65531, 5, 58, 65531, 6, 58, 65531, 7, 58, 65531, 8, 58, 65531, 9, 58, 65531, 10, 58, 65531, 11, 58, 65532, 11, 1048634, 65533, 11, 1048634, 65534, 11, 1048634, 65535, 11, 1048634, 0, 11, 1048634, 1, 11, 1048634, 2, 11, 1048634, 3, 11, 1048634, 4, 11, 1048634, 6, 10, 655418, 5, 11, 1048634, 6, 11, 1048634, 6, 65524, 655418, 5, 65524, 1441850, 65533, 65525, 655417, 65534, 65525, 655417, 65535, 65525, 655417, 0, 65525, 655417, 1, 65525, 655417, 2, 65525, 655417, 3, 65525, 655417, 4, 65525, 655417, 5, 65525, 655417, 65532, 3, 1441792)
}
metadata/_editor_floor_ = Vector3(0, 0, 0)
metadata/_edit_lock_ = true

[node name="Floor" type="CSGBox3D" parent="Environment"]
transform = Transform3D(14.4098, 0, 0, 0, 0.00811265, 0, 0, 0, 9.043, 0, 0, 0)
material_override = SubResource("StandardMaterial3D_34eua")
use_collision = true
size = Vector3(1.24515, 1, 6.04259)
metadata/_edit_lock_ = true

[node name="Goal A" type="CSGCylinder3D" parent="Environment"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, -0.096745, 20.6919)
material_override = SubResource("StandardMaterial3D_6e3lt")
radius = 1.5
height = 0.3
sides = 16

[node name="Area3D" type="Area3D" parent="Environment/Goal A"]
collision_layer = 4
collision_mask = 6

[node name="CollisionShape3D" type="CollisionShape3D" parent="Environment/Goal A/Area3D"]
transform = Transform3D(3.24487, 0, 0, 0, 3.24487, 0, 0, 0, 3.24487, 0, 0.748212, 0.0711651)
shape = SubResource("BoxShape3D_cif0x")

[node name="Goal B" type="CSGCylinder3D" parent="Environment"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, -0.096745, -18.5674)
material_override = SubResource("StandardMaterial3D_23vym")
radius = 1.5
height = 0.3
sides = 16

[node name="Area3D" type="Area3D" parent="Environment/Goal B"]
collision_layer = 4
collision_mask = 6

[node name="CollisionShape3D" type="CollisionShape3D" parent="Environment/Goal B/Area3D"]
transform = Transform3D(3.24487, 0, 0, 0, 3.24487, 0, 0, 0, 3.24487, 0, 1.27072, 0.0711651)
shape = SubResource("BoxShape3D_cif0x")

[node name="CSGBox3D" type="CSGBox3D" parent="Environment"]
transform = Transform3D(17.9985, 0, 0, 0, 2.38044, 0, 0, 0, 0.0509532, 0, 0.178811, 0)
size = Vector3(1, 0.140869, 1)

[node name="Collisions" type="Node" parent="Environment"]

[node name="StaticBody3D" type="StaticBody3D" parent="Environment/Collisions"]
collision_layer = 4
collision_mask = 4
metadata/_edit_lock_ = true

[node name="Back" type="CollisionShape3D" parent="Environment/Collisions/StaticBody3D"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0.0286803, 3.41836, 27.0909)
shape = SubResource("BoxShape3D_uv6fw")

[node name="Front" type="CollisionShape3D" parent="Environment/Collisions/StaticBody3D"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0.0286803, 3.41836, -27.0721)
shape = SubResource("BoxShape3D_uv6fw")

[node name="Right" type="CollisionShape3D" parent="Environment/Collisions/StaticBody3D"]
transform = Transform3D(-4.37114e-08, 0, -1, 0, 1, 0, 1, 0, -4.37114e-08, 9.09551, 3.2047, 0.352308)
shape = SubResource("BoxShape3D_qj1ei")

[node name="Left" type="CollisionShape3D" parent="Environment/Collisions/StaticBody3D"]
transform = Transform3D(-4.37114e-08, 0, -1, 0, 1, 0, 1, 0, -4.37114e-08, -9.1407, 3.2047, 0.352307)
shape = SubResource("BoxShape3D_qj1ei")

[node name="Camera" type="Camera3D" parent="."]
unique_name_in_owner = true
transform = Transform3D(1, 0, 0, 0, 0.669947, 0.742409, 0, -0.742409, 0.669947, 0, 43.205, 39.405)
projection = 1
current = true
fov = 40.0
size = 32.36

[node name="DirectionalLight3D" type="DirectionalLight3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 0.0152012, -0.999884, 0, 0.999884, 0.0152012, 0, 17.7869, 0)

[node name="Team A" type="Node" parent="."]
script = ExtResource("2_0qrcc")

[node name="Player" parent="Team A" instance=ExtResource("3_308vm")]
transform = Transform3D(-1.90187, 0, -1.66266e-07, 0, 1.90187, 0, 1.66266e-07, 0, -1.90187, 0, 0.004, 10.7706)

[node name="Team B" type="Node" parent="."]
script = ExtResource("2_0qrcc")

[node name="Enemy" parent="Team B" instance=ExtResource("4_6awvt")]
transform = Transform3D(1.857, 0, 0, 0, 1.857, 0, 0, 0, 1.857, -0.105729, 0.00405633, -15.2092)

[node name="UI" type="CanvasLayer" parent="."]

[node name="Virtual Joystick" parent="UI" instance=ExtResource("5_42s3w")]
unique_name_in_owner = true
anchors_preset = 15
anchor_top = 0.0
anchor_right = 1.0
offset_top = 639.0
offset_right = 0.0
offset_bottom = 0.0
grow_horizontal = 2
grow_vertical = 2
size_flags_horizontal = 4
size_flags_vertical = 8
joystick_mode = 1
action_left = "move_left"
action_right = "move_right"
action_up = "move_up"
action_down = "move_down"

[node name="Base" parent="UI/Virtual Joystick" index="0"]
anchors_preset = -1
anchor_top = 0.751
anchor_bottom = 0.751
offset_top = -100.391
offset_bottom = 99.609

[node name="Loading" type="TextureRect" parent="UI"]
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2
size_flags_horizontal = 4
size_flags_vertical = 4
texture = SubResource("GradientTexture1D_pdx65")
metadata/_edit_use_anchors_ = true

[node name="Label" type="Label" parent="UI/Loading"]
layout_mode = 1
anchors_preset = 8
anchor_left = 0.5
anchor_top = 0.5
anchor_right = 0.5
anchor_bottom = 0.5
offset_left = -150.0
offset_top = -44.0
offset_right = 150.0
offset_bottom = 44.0
grow_horizontal = 2
grow_vertical = 2
theme_override_font_sizes/font_size = 64
text = "Loading..."
metadata/_edit_use_anchors_ = true

[node name="Ball" type="RigidBody3D" parent="."]
unique_name_in_owner = true
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0.949507, 1.63342)
collision_layer = 4
collision_mask = 4
axis_lock_linear_y = true
physics_material_override = SubResource("PhysicsMaterial_yho6n")
gravity_scale = 0.0
contact_monitor = true
script = ExtResource("6_isx7c")

[node name="CollisionShape3D" type="CollisionShape3D" parent="Ball"]
transform = Transform3D(0.712953, 0, 0, 0, 0.712953, 0, 0, 0, 0.712953, 0, 0, 0)
shape = SubResource("SphereShape3D_fr8sp")

[node name="CSGSphere3D" type="CSGSphere3D" parent="Ball/CollisionShape3D"]

[editable path="UI/Virtual Joystick"]
